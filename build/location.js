(()=>{var e={486:()=>{function e(e){if("LI"===e.target.tagName){const t=this.parentNode;this.value=e.target.textContent,t.querySelector("ul.dropdown-menu").style.display="none";const n=new Event("change");this.dispatchEvent(n),console.log("Added Change Synthetic Event")}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("input.dropdown").forEach((t=>{const n=t.parentNode,o=n.querySelector("ul.dropdown-menu"),i=e.bind(t);t.addEventListener("click",(function(e){e.stopPropagation(),o.style.display="block"===o.style.display?"none":"block"})),o.addEventListener("click",i),document.addEventListener("click",(function(e){n.contains(e.target)||(o.style.display="none")}))}))}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";function e(e,t,n,o){const i=(n-e)*Math.PI/180,a=(o-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("my-location-input"),t=document.getElementById("useLocationBtn"),n=document.getElementById("loading-1-animation"),o=document.getElementById("loading-2-animation"),i=document.getElementById("loading-2-animation-bkg");function a(e){const t=e.coords.latitude,n=e.coords.longitude;console.log(`Latitude: ${t}, Longitude: ${n}`)}function l(e){console.warn(`ERROR(${e.code}): ${e.message}`)}t.addEventListener("click",(function(){e.classList.add("my-location-input-fade-in"),n.classList.add("reveal"),n.classList.remove("hide"),o&&o.classList.replace("remove","restore"),o&&i.classList.replace("hide","reveal"),navigator.geolocation.getCurrentPosition(a,l,r),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){const o=t.coords.latitude,i=t.coords.longitude;fetch(`https://nominatim.openstreetmap.org/reverse?lat=${o}&lon=${i}&format=json`).then((e=>e.json())).then((t=>{const o=t.display_name;e.value=o;const i=new Event("change");e.dispatchEvent(i),e.classList.remove("my-location-input-fade-in"),n.classList.add("hide"),n.classList.remove("reveal")})).catch((t=>{e.classList.remove("my-location-input-fade-in"),n.classList.add("hide"),n.classList.remove("reveal"),console.error("Error fetching address:",t)}))}),(function(e){console.error("Error getting user location:",e)})):(e.classList.remove("my-location-input-fade-in"),n.classList.add("hide"),n.classList.remove("reveal"),console.error("Geolocation is not supported by this browser."))}));const r={enableHighAccuracy:!0,timeout:5e3,maximumAge:0}}));var t=document.getElementById("myRange");const o=document.getElementById("miles"),i=document.getElementById("list-container");let a=document.getElementById("loading-2-animation");const l=document.getElementById("loading-2-animation-bkg"),r=document.querySelector("#dentist-amount"),s=document.querySelector("#my-location-input");function c(){o.innerText=t.value}const d=()=>{a.classList.replace("remove","restore"),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){const n=t.coords.latitude,o=t.coords.longitude,a=Number(document.getElementById("miles").innerText);for(let t=0;t<i.children.length;t++)if(t>2){const l=i.children[t];.621371*e(Number(l.getAttribute("data-locationlat")),Number(l.getAttribute("data-locationlon")),n,o)>a?(l.classList.contains("remove")||(r.innerHTML=Number(r.innerHTML)-1),l.classList.add("remove")):(l.classList.contains("remove")&&(r.innerHTML=Number(r.innerHTML)+1),l.classList.remove("remove"))}})),a.classList.replace("restore","remove"),l.classList.replace("reveal","hide")};t.addEventListener("input",c),t.addEventListener("change",d),s.addEventListener("change",d),c(),n(486);const p=document.querySelector("#map-container"),u={};let g;const m=()=>{h(),(document.querySelectorAll(".location").length>0?document.querySelectorAll(".location"):void 0).forEach((e=>{e.addEventListener("mouseenter",(e=>{const t=e.target.id.split("post-")[1],n=u[t],o=n.getLatLng();g.setView(o,g.getZoom()),n.openPopup()})),e.addEventListener("click",(e=>{const t=e.target.id.split("post-")[1],n=u[t],o=n.getLatLng();g.setView(o,g.getZoom()),n.openPopup()}));const t=e.getAttribute("data-lon"),n=e.getAttribute("data-lat"),o=e.id.split("post-")[1],i=e.querySelector("div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > h3");var a;g?(a=L.marker([n,t]).addTo(g)).bindPopup(i.innerHTML):(g=L.map("map",{scrollWheelZoom:!1}).setView([n,t],13),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(g),(a=L.marker([n,t]).addTo(g)).bindPopup(i.innerHTML).openPopup()),u[o]=a}))};document.addEventListener("DOMContentLoaded",(()=>{p&&!g&&(g=L.map("map",{scrollWheelZoom:!1}).setView([p.getAttribute("data-lat"),p.getAttribute("data-lon")],13),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(g),L.marker([p.getAttribute("data-lat"),p.getAttribute("data-lon")]).addTo(g).bindPopup(p.getAttribute("data-name")).openPopup())}));const h=()=>{g&&g.remove(),g=void 0},v=document.querySelector("#dropdown-facility-input"),y=document.querySelector("#dropdown-service-input"),f=document.querySelector("#locations-amount"),x=document.querySelector("#location-list-container"),b=document.querySelector("#filter-location-btn-mobile"),w=document.querySelector("#header-location");let E="",$="",M="";v.addEventListener("change",(e=>{E=e.target.value,M==e.target.value?console.log("no change"):e.target.value?fetch(`${wpData.baseUrl}/wp-json/myplugin/v1/locations-filtered?type=${E}&service=${$}`).then((e=>e.json())).then((e=>{f.textContent=e.length,k(),e.forEach(((e,t)=>{q(e,++t)})),m()})):S(),M=e.target.value})),y.addEventListener("change",(e=>{$=e.target.value,fetch(`${wpData.baseUrl}/wp-json/myplugin/v1/locations-filtered?type=${E}&service=${$}`).then((e=>e.json())).then((e=>{f.textContent=e.length,k(),e.forEach(((e,t)=>{q(e,++t)})),m()}))})),b.addEventListener("click",(()=>{w.classList.toggle("header-location-elongated-mobile"),document.querySelector(".filter-location-container").classList.toggle("reveal"),document.querySelector(".filter-location-container").classList.toggle("remove")}));const S=()=>{console.log("getAllLocations"),fetch(`${wpData.baseUrl}/wp-json/myplugin/v1/all-locations`).then((e=>e.json())).then((e=>{f.textContent=e.length,e.forEach(((e,t)=>{q(e,++t)}));var t=new Event("change",{bubbles:!0,cancelable:!0});x.dispatchEvent(t)})).finally((()=>{x.children.length>0&&m()}))},k=()=>{x.innerHTML=""},q=(e,t)=>{x.insertAdjacentHTML("beforeend",`\n    <div class="location" id="post-${e.id}" data-lat="${e.lat}" data-lon="${e.lon}" style="width: 95%; height: 350px; background: rgb(245,245,245); flex-shrink: 0; display:flex; flex-direction: column; margin-bottom: 20px; border-radius: 15px;   box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) ">\n        <div style="display: flex; flex: .8; flex-direction: column; margin-left: 10px; padding-top: 20px;">\n            <div style="flex: .2; width: 100%;  display: flex; align-items: center; padding:15px 0 0 0px; position: relative;">\n                <div style="width: 30px; height: 30px; border-radius: 20px; background:  rgba(0, 107, 222, 1); display: flex; justify-content: center; font-size: 12px; color: white; align-items: center;">${t}</div>\n                <div style="margin-left: 35px; position: absolute;">\n                    <button style="background: white; border-radius: 6px; margin: 0; padding: 8px 15px; font-weight: bold; font-size: 14px;">${e.type}</button>\n                </div>\n            </div>\n            <div style="margin-left: 35px;  width: 75%; display: flex; flex-direction: column; flex: .8 ">\n                <div style="flex: .33;  display:flex; flex-direction: column; justify-content: center;">\n                    <h3 id="" style="line-height: 25px; font-size: 22px; margin: 10px 0 ">${e.name}</h3>\n                </div>\n                <div style="flex: .33; font-size: 18px; width: 90%; display:flex; align-items:center">\n                ${e.address}<br>\n                ${e.city}, ${e.state} ${e.zip}\n                </div>\n                <div style="flex: .33; ">\n                    <h3>Phone: ${e.phone}</h3>\n                </div>\n            </div>\n        </div>\n        <hr style="width: 100%; border: 0; background: lightgray; height: 1px; margin: 0;">\n        <div style="flex: .2; display: flex; justify-content: center; align-items: center; margin-left: 10px">\n            <a href="${e.link}" style="font-weight: bold; ">View more info</a>\n        </div>\n    </div>\n    `)};document.addEventListener("DOMContentLoaded",(()=>{(()=>{console.log("init()"),console.log(wpDataLocation);const e=new URLSearchParams(window.location.search);if(wpDataLocation.location_ids)fetch(`${wpData.baseUrl}/wp-json/myplugin/v1/get-location-by-id?ids=${JSON.stringify(wpDataLocation.location_ids)}`).then((e=>e.json())).then((e=>{console.log(e),f.textContent=e.length,k(),e.forEach(((e,t)=>{q(e,++t)})),m()}));else if(0!==e.size){const t=e.get("type");t&&fetch(`${wpData.baseUrl}/wp-json/myplugin/v1/get-locations-by-type?type=${t}`).then((e=>e.json())).then((e=>{f.textContent=e.length,k(),e.forEach(((e,t)=>{q(e,++t)})),m()}))}else k(),S()})()}))})()})();